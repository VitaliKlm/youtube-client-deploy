(self.webpackChunkyoutube_client=self.webpackChunkyoutube_client||[]).push([[209],{5209:(t,i,e)=>{"use strict";e.r(i),e.d(i,{YoutubeModule:()=>M});var s=e(8583),n=e(8697),r=e(5319),o=e(5115),a=e(4124);const c=(0,a.P1)(t=>t.apiCards,t=>t);var d=e(1491),l=e(639),p=e(3351);let u=(()=>{class t{constructor(t,i){this.elementRef=t,this.renderer2=i}ngOnInit(){if(this.date){const t=Date.now()-Date.parse(this.date);this.color=t<o.gI?"blue":t<o.XM?"green":t<o.rs?"yellow":t>o.rs?"red":"grey"}else this.color="grey";this.renderer2.setStyle(this.elementRef.nativeElement,"background-color",this.color)}}return t.\u0275fac=function(i){return new(i||t)(l.Y36(l.SBq),l.Y36(l.Qsj))},t.\u0275dir=l.lG2({type:t,selectors:[["","appSetColorByDate",""]],inputs:{date:"date"}}),t})(),h=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-video-metrics"]],inputs:{statistics:"statistics"},decls:17,vars:4,consts:[[1,"video-metrics"],[1,"metric-block"],["src","../../../youtube-client-deploy/assets/icons/views.svg","alt","views",1,"metrics-icon"],[1,"metric-value"],["src","../../../youtube-client-deploy/assets/icons/likes.svg","alt","likes",1,"metrics-icon"],["src","../../../youtube-client-deploy/assets/icons/dislikes.svg","alt","dislikes",1,"metrics-icon"],["src","../../../youtube-client-deploy/assets/icons/comments.svg","alt","comments",1,"metrics-icon"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"div",3),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",1),l._UZ(6,"img",4),l.TgZ(7,"div",3),l._uU(8),l.qZA(),l.qZA(),l.TgZ(9,"div",1),l._UZ(10,"img",5),l.TgZ(11,"div",3),l._uU(12),l.qZA(),l.qZA(),l.TgZ(13,"div",1),l._UZ(14,"img",6),l.TgZ(15,"div",3),l._uU(16),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(4),l.Oqu(null==i.statistics?null:i.statistics.viewCount),l.xp6(4),l.Oqu(null==i.statistics?null:i.statistics.likeCount),l.xp6(4),l.Oqu(null==i.statistics?null:i.statistics.dislikeCount),l.xp6(4),l.Oqu(null==i.statistics?null:i.statistics.commentCount))},styles:["[_nghost-%COMP%]{width:100%}.video-metrics[_ngcontent-%COMP%]{flex-wrap:wrap;align-items:flex-start;width:100%;min-height:36px;height:auto}.metric-block[_ngcontent-%COMP%], .video-metrics[_ngcontent-%COMP%]{display:flex;justify-content:center}.metric-block[_ngcontent-%COMP%]{align-items:center;min-width:25%;width:auto;height:13px;margin-bottom:5px}.metrics-icon[_ngcontent-%COMP%]{height:13px;width:auto;margin-right:3px}.metric-value[_ngcontent-%COMP%]{font-size:10px;line-height:12px;color:#000;margin-right:5px}"],changeDetection:0}),t})(),g=(()=>{class t{constructor(t,i,e,s){this.route=t,this.store=i,this.youtubeService=e,this.cdr=s,this.isCustomCardsMode=!1,this.subscriptions=new r.w,this.getCard=()=>{this.subscriptions.add(this.isCustomCardsMode?this.store.select(d.w).subscribe(t=>{this.card=t.find(t=>t.id===this.id),this.getCardData()}):this.store.select(c).subscribe(t=>{this.card=t.find(t=>t.id===this.id),this.getCardData()}))},this.getCardData=()=>{var t,i;this.card&&(this.videoUrl=`${o.Pc}${this.id}`,this.imageUrl=(null===(t=this.card.snippet.thumbnails.standard)||void 0===t?void 0:t.url)||(null===(i=this.card.snippet.thumbnails.high)||void 0===i?void 0:i.url),this.videoDate=this.card.snippet.publishedAt,this.videoTitle=this.card.snippet.title,this.videoDescription=this.card.snippet.description,this.videoStatistics=this.card.statistics)}}ngOnInit(){this.subscriptions.add(this.youtubeService.isCustomCardsMode$().subscribe(t=>{this.isCustomCardsMode=t,this.cdr.markForCheck()})),this.subscriptions.add(this.route.params.subscribe(t=>{this.id=t.id})),this.getCard()}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(l.Y36(n.gz),l.Y36(a.yh),l.Y36(p.A),l.Y36(l.sBO))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-details-page"]],decls:21,vars:12,consts:[[1,"detail-card"],["routerLink","/youtube-client","routerLinkActive","active","appSetColorByDate","",1,"back-btn",3,"date"],["target","_blank",1,"image-container",3,"href"],[1,"video-thumbnail-container"],["alt","thumbnail",1,"video-thumbnail",3,"src"],[1,"image-cover"],[1,"cover-text"],[1,"card-info"],[1,"video-date"],[1,"video-title",3,"title"],[1,"video-subtitle"],[1,"video-text"],[1,"video-metrics",3,"statistics"],["appSetColorByDate","",1,"date-indicator-bar",3,"date"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"a",1),l._uU(2,"< "),l.qZA(),l.TgZ(3,"a",2),l.TgZ(4,"div",3),l._UZ(5,"img",4),l.qZA(),l.TgZ(6,"div",5),l.TgZ(7,"div",6),l._uU(8,"Watch video on YouTube"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",7),l.TgZ(10,"div",8),l._uU(11),l.ALo(12,"date"),l.qZA(),l.TgZ(13,"h2",9),l._uU(14),l.qZA(),l.TgZ(15,"p",10),l._uU(16,"Description:"),l.qZA(),l.TgZ(17,"div",11),l._uU(18),l.qZA(),l._UZ(19,"app-video-metrics",12),l._UZ(20,"div",13),l.qZA(),l.qZA()),2&t&&(l.xp6(1),l.Q6J("date",i.videoDate),l.xp6(2),l.s9C("href",i.videoUrl,l.LSH),l.xp6(2),l.s9C("src",i.imageUrl,l.LSH),l.xp6(6),l.hij(" ",l.xi3(12,9,i.videoDate,"fullDate")," "),l.xp6(2),l.s9C("title",i.videoTitle),l.xp6(1),l.hij(" ",i.videoTitle," "),l.xp6(4),l.hij(" ",i.videoDescription," "),l.xp6(1),l.Q6J("statistics",i.videoStatistics),l.xp6(1),l.Q6J("date",i.videoDate))},directives:[n.yS,n.Od,u,h],pipes:[s.uU],styles:[".detail-card[_ngcontent-%COMP%]{flex-wrap:wrap;margin:45px auto}.back-btn[_ngcontent-%COMP%], .detail-card[_ngcontent-%COMP%]{display:flex;justify-content:center}.back-btn[_ngcontent-%COMP%]{align-items:center;width:32px;height:32px;filter:drop-shadow(-2px 2px 4px rgba(47,128,237,.25));border-radius:5px 0 0 5px;background:#2f80ed;font-size:30px;line-height:32px;color:#fff;cursor:pointer;-webkit-text-stroke:1px #0000004d}.back-btn[_ngcontent-%COMP%]:hover{opacity:.7}.image-container[_ngcontent-%COMP%]{display:block;position:relative;margin-bottom:30px;cursor:pointer}.video-thumbnail-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:480px;width:640px;background-color:#000}.video-thumbnail[_ngcontent-%COMP%]{opacity:1;display:block;height:auto;width:640px;transition:.5s ease;background-color:#d3d3d3;filter:drop-shadow(5px 10px 10px rgba(51,51,51,.25));border-radius:0 0 0 5px}.image-cover[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);text-align:center;transition:.5s ease;opacity:0}.image-container[_ngcontent-%COMP%]:hover   .video-thumbnail[_ngcontent-%COMP%]{opacity:.3}.image-container[_ngcontent-%COMP%]:hover   .image-cover[_ngcontent-%COMP%]{opacity:1}.cover-text[_ngcontent-%COMP%]{background-color:#4f90e6;color:#fff;font-size:16px;padding:16px 32px}.card-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;width:525px;height:480px;padding:35px;background:#e5e5e5;box-shadow:5px 5px 20px #33333340;border-radius:0 5px 5px 0}.video-date[_ngcontent-%COMP%]{width:100%;font-weight:400;font-size:12px;line-height:14px;text-align:right;color:#828282}.video-title[_ngcontent-%COMP%]{width:100%;height:auto;margin:10px auto 20px;font-weight:700;font-size:20px;line-height:23px;text-align:center;overflow:hidden;text-overflow:ellipsis;display:-moz-box;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2;box-orient:vertical}.video-subtitle[_ngcontent-%COMP%]{width:100%;font-size:16px;line-height:18px;margin-bottom:5px;text-align:left;color:#000}.video-text[_ngcontent-%COMP%]{height:270px;max-width:455px;font-weight:400;font-size:14px;line-height:16px;color:#828282;overflow-y:auto;word-wrap:break-word}.video-metrics[_ngcontent-%COMP%]{position:absolute;bottom:0;width:525px;margin:0 auto;padding:0 90px}.date-indicator-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px;border-radius:0 0 5px 0;background-color:#000}"]}),t})();var m=e(9112),b=e(1713),x=e(5750);function v(t,i){if(1&t){const t=l.EpF();l.TgZ(0,"div",7),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return i.removeCustomCard(i.videoId)}),l.qZA()}}const f=function(t){return["/youtube-client",t]};let C=(()=>{class t{constructor(t){this.store=t,this.getCardData=()=>{var t,i;this.card&&(this.imageUrl=(null===(t=this.card.snippet.thumbnails.medium)||void 0===t?void 0:t.url)||(null===(i=this.card.snippet.thumbnails.high)||void 0===i?void 0:i.url),this.videoId=this.card.id,this.videoDate=this.card.snippet.publishedAt,this.videoTitle=this.card.snippet.title,this.videoStatistics=this.card.statistics)},this.removeCustomCard=t=>{this.store.dispatch((0,x.y)({videoId:t}))}}ngOnInit(){this.getCardData()}}return t.\u0275fac=function(i){return new(i||t)(l.Y36(a.yh))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-search-item"]],inputs:{card:"card",isCustomCardsMode:"isCustomCardsMode"},decls:9,vars:9,consts:[[1,"search-item"],["class","delete-btn",3,"click",4,"ngIf"],["alt","thumbnail",1,"video-thumbnail",3,"src"],[3,"statistics"],[1,"video-title",3,"title"],["routerLinkActive","active",1,"details-btn",3,"routerLink"],["appSetColorByDate","",1,"date-indicator-bar",3,"date"],[1,"delete-btn",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,v,1,0,"div",1),l._UZ(2,"img",2),l._UZ(3,"app-video-metrics",3),l.TgZ(4,"h2",4),l._uU(5),l.qZA(),l.TgZ(6,"a",5),l._uU(7,"more... "),l.qZA(),l._UZ(8,"div",6),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",i.isCustomCardsMode),l.xp6(1),l.s9C("src",i.imageUrl,l.LSH),l.xp6(1),l.Q6J("statistics",i.videoStatistics),l.xp6(1),l.Q6J("title",i.videoTitle),l.xp6(1),l.hij(" ",i.videoTitle," "),l.xp6(1),l.Q6J("routerLink",l.VKq(7,f,i.videoId)),l.xp6(2),l.Q6J("date",i.videoDate))},directives:[s.O5,h,n.yS,n.Od,u],styles:[".search-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;width:260px;height:347px;margin:15px;padding:40px 20px 20px;background:#e5e5e5;border-radius:5px;filter:drop-shadow(2px 2px 4px rgba(0,0,0,.25))}.video-thumbnail[_ngcontent-%COMP%]{width:223px;height:123px;margin-bottom:20px;background-color:#d3d3d3}.video-title[_ngcontent-%COMP%]{width:223px;height:auto;margin:15px 0 40px;font-weight:700;font-size:20px;line-height:23px;text-align:center;overflow:hidden;text-overflow:ellipsis;display:-moz-box;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;line-clamp:2;box-orient:vertical}.details-btn[_ngcontent-%COMP%]{position:absolute;bottom:15px;display:flex;justify-content:center;align-items:center;width:120px;height:32px;filter:drop-shadow(2px 0 4px #2F80ED);background:#2f80ed;border-radius:5px;font-size:12px;line-height:14px;color:#fff;cursor:pointer}.details-btn[_ngcontent-%COMP%]:hover{background:#4d8ee4}.date-indicator-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;height:5px;border-radius:0 0 5px 5px;background-color:#000}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:20px;height:20px;border:none;background-color:initial;background-image:url(close-btn.95b38a53a5b0c2dfdcb3.svg);background-size:26px;background-position:50%;background-repeat:no-repeat;cursor:pointer;transition:all .3s ease}.delete-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"],changeDetection:0}),t})(),w=(()=>{class t{constructor(){this.sortCards=(t,i)=>"views"===i.criterion?[...t].sort((t,e)=>{var s,n,r,o;return"ASC"===i.direction?Number(null===(s=e.statistics)||void 0===s?void 0:s.viewCount)-Number(null===(n=t.statistics)||void 0===n?void 0:n.viewCount):Number(null===(r=t.statistics)||void 0===r?void 0:r.viewCount)-Number(null===(o=e.statistics)||void 0===o?void 0:o.viewCount)}):[...t].sort((t,e)=>"ASC"===i.direction?Date.parse(e.snippet.publishedAt)-Date.parse(t.snippet.publishedAt):Date.parse(t.snippet.publishedAt)-Date.parse(e.snippet.publishedAt))}transform(t,i){if(null===t)return[];const e=[...t];return i?this.sortCards(e,i):e}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=l.Yjl({name:"sort",type:t,pure:!0}),t})(),y=(()=>{class t{constructor(){this.filterCards=(t,i)=>{const e=/#/y;return e.lastIndex=0,e.test(i.trim())?this.getFilteredCardsByTag(t,i):this.getFilteredCardsByTitle(t,i)},this.getFilteredCardsByTag=(t,i)=>{const e=i.trim().slice(1);return t.filter(t=>t.snippet.tags&&t.snippet.tags.includes(e))},this.getFilteredCardsByTitle=(t,i)=>{const e=i.trim().toLowerCase();return t.filter(t=>t.snippet.title.toLowerCase().includes(e))}}transform(t,i){if(null===t)return[];const e=[...t];return i?this.filterCards(e,i):e}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275pipe=l.Yjl({name:"filter",type:t,pure:!0}),t})();function Z(t,i){if(1&t&&l._UZ(0,"app-search-item",2),2&t){const t=i.$implicit,e=l.oxw();l.Q6J("card",t)("isCustomCardsMode",e.isCustomCardsMode)}}let _=(()=>{class t{constructor(t,i,e){this.store=t,this.youtubeService=i,this.cdr=e,this.isCustomCardsMode=!1,this.subscriptions=new r.w,this.updateCards=()=>{this.cards$=this.store.select(this.isCustomCardsMode?d.w:c)}}ngOnInit(){this.subscriptions.add(this.youtubeService.isCustomCardsMode$().subscribe(t=>{this.isCustomCardsMode=t,this.cdr.markForCheck(),this.updateCards()})),this.updateCards()}ngOnDestroy(){this.subscriptions.unsubscribe()}trackItem(t,i){return i.id}}return t.\u0275fac=function(i){return new(i||t)(l.Y36(a.yh),l.Y36(p.A),l.Y36(l.sBO))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-search-results"]],inputs:{filteringValue:"filteringValue",sortingCriteria:"sortingCriteria"},decls:5,vars:10,consts:[[1,"search-results"],[3,"card","isCustomCardsMode",4,"ngFor","ngForOf","ngForTrackBy"],[3,"card","isCustomCardsMode"]],template:function(t,i){1&t&&(l.TgZ(0,"section",0),l.YNc(1,Z,1,2,"app-search-item",1),l.ALo(2,"sort"),l.ALo(3,"filter"),l.ALo(4,"async"),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngForOf",l.xi3(2,2,l.xi3(3,5,l.lcZ(4,8,i.cards$),i.filteringValue),i.sortingCriteria))("ngForTrackBy",i.trackItem))},directives:[s.sg,C],pipes:[w,y,s.Ov],styles:[".search-results[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;max-width:1200px;height:auto;padding:15px;margin:0 auto}"],changeDetection:0}),t})();const k=[{path:"",component:(()=>{class t{constructor(t){this.sortingService=t,this.filteringValue="",this.sortingCriteria=o.ZW,this.subscriptions=new r.w}ngOnInit(){this.subscriptions.add((0,m.aj)([this.sortingService.getSortingCriteria$(),this.sortingService.getFilteringValue$()]).subscribe(([t,i])=>{this.sortingCriteria=t,this.filteringValue=i}))}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(l.Y36(b.$))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-main-page"]],decls:1,vars:2,consts:[[3,"filteringValue","sortingCriteria"]],template:function(t,i){1&t&&l._UZ(0,"app-search-results",0),2&t&&l.Q6J("filteringValue",i.filteringValue)("sortingCriteria",i.sortingCriteria)},directives:[_],styles:[""]}),t})()},{path:":id",component:g}];let O=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[n.Bz.forChild(k)],n.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.ez,O]]}),t})()}}]);